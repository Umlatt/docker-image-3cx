# Filename: Dockerfile
# Set base image for container
FROM debian:10-slim
# Set details for image/container 
LABEL version="0.1-beta"
LABEL description="A custom 3cx pbx implementation for running on Jelastic platforms."
# Ensure that build is running most up-to-date packages
RUN apt-get update && apt-get upgrade -y && apt-get autoremove -y
# Install dependancies
RUN apt-get install -y apt-utils 
RUN apt-get install -y systemd locales gnupg2 wget
# Install requirements & 3cx services
RUN wget -O- http://downloads-global.3cx.com/downloads/3cxpbx/public.key | apt-key add -
RUN echo "deb http://downloads-global.3cx.com/downloads/debian buster main" | tee /etc/apt/sources.list.d/3cxpbx.list
RUN apt-get update && apt-get install -y net-tools dphys-swapfile 
#RUN apt-get install -y 3cxpbx

CMD ["/bin/bash"]